# TypeScriptプロジェクト構造ルール

## テストファイルの配置

**原則**: テストファイルは必ず `src/__tests__/` ディレクトリ配下に配置する

**理由**:
- TypeScriptの `rootDir` と整合性が取れる
- プロダクションコードとテストコードが同じディレクトリツリー内に存在
- ビルド時の扱いが明確になる

✅ `src/__tests__/` 配下に配置、❌ `src` 外に配置

---

## 未使用変数の扱い

**原則**: 「その場しのぎ」の修正は避け、根本原因を解決する

❌ 使わない変数に `_` プレフィックスを付けるだけ
✅ 必要になるまでimportしない（実装時に追加）

`_` プレフィックスは慣習的な場合のみ使用（例: `app.get('/health', (_req, res) => { ... })`）

---

## 根本原因解決の実例

### 問題: TypeScript型チェックエラー「テストファイルがrootDirの外にある」

❌ tsconfig.jsonから `rootDir` を削除するだけ
✅ テストファイルを `src/__tests__/` へ移動（TypeScriptベストプラクティス準拠）
